#container that is specifically designed to import logs from docker
#ou only need to specify the location of the log files inside the FileBeat container, which in our case is /var/lib/docker/containers/*/*.log.
# Its goal is to enrich the docker logs with useful information, such as the name of the image or the name of the container
#It allows to parse logs encoded in JSON.
#settings concern FileBeat own logs.

filebeat.autodiscover.providers:
  - type: docker
    templates:
      - condition:
          contains:
            docker.container.name: app
        config:
          - type: container
            paths:
              - /var/lib/docker/containers/${data.docker.container.id}/*-json.log
            exclude_lines: ["^\\s+[\\-`('.|_]"]  # drop asciiart lines
processors:
  - decode_json_fields:
      fields: ["message"]
      target: "fields"
      overwrite_keys: true

output.logstash:
    hosts: [ "logstash:5044" ]

logging.json: false
logging.metrics.enabled: false